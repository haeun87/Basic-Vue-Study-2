<html>

<head>
    <title> ECMAScript6 - Map Collection </title>
    <!-- 2장 ECMAScript6 8. Map 컬렉션 타입 -->
</head>

<body>
    <div> </div>
    <div id="app">
        <div>
            <button @click="valueSwitching"> var로 값 전환</button>
        </div>
        <div>
            현재 숫자 = {{valueSwitched ? 10 : 15}}
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
<script type="text/javascript">
    /*
        1. Map 객체 생성
    */
    let map = new Map(); 

    /*
    (출력 형식)
        Map(0)
        [[Entries]]
            No properties
        size : 0
    */
    console.log(map); // 빈 Map
    console.log(map.size); //0
    
    map = new Map([["사과","빨갛다"], ["바나나","노랗다"]]);

    /*
    (출력 형식)
        Map(2)
        [[Entries]]
            0: {"사과" => "빨갛다"}
                key: "사과"
                value: "빨갛다"
            1: {"바나나" => "노랗다"}
                key: "바나나"
                value: "노랗다"
        size : 2
    */
    console.log(map); // 초기데이터 있는 Map
    console.log(map.size); //2

    /*
        2. Map 데이터 추가, 데이터 읽기, 데이터 존재 여부 확인, 데이터 삭제
    */
    map.set("메론","푸르다");
    map.set("기차","길다");

    console.log(map, map.size); // Map(4) {...} 4

    console.log(map.get("메론")); //푸르다
    console.log("기차가 있나요 => "+map.has("기차")); //true
    console.log("자동차가 있나요 => "+map.has("자동차")); //false

    map.delete("기차") // 기차 지우기
    console.log("기차가 있나요 => " + map.has("기차")); //false

    /*
        3. 전체 단위 데이터 확인 및 함수 처리
    */

    // 모든 키 보기
    var keyIter = map.keys();
    for(var key of keyIter){
        console.log(key)
    }
 
    // 모든 값 보기
    var valueIter = map.values();
    for (var value of valueIter) {
        console.log(value)
    }

    // 모든 데이터 보기
    var entryIter = map.entries();
    for (var entry of entryIter) {
        console.log(entry)
    }

    // 모든 데이터 함수 처리
    let fruitMap = map;
    // map의 특수 함수 특정 map(fruitMap)에 대하여 value, key, map값을 순차적으로 처리
    fruitMap.forEach(function(value, key, map){
        console.log(key," : ",value);
    });

    /*
        4. 모든 데이터 삭제
    */
    map.clear();

    console.log(map);// 삭제 후 모습

    var App = new Vue({
        el: "#app",
        data: {
            message: "Hello",
            valueSwitched: false
        },
        methods: {
            valueSwitching: function () {
                this.valueSwitched = this.valueSwitched ? false : true;
            }
        }
    }); 
</script>

</html>